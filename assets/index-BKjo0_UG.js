import{j as e,r as g}from"./radix-vendor-Bm1U9n1d.js";import{L as S,S as C,a as T,b as z,c as k,d as j,e as V,T as P,B as b,i as G,h as R,j as U,A as Y,f as q,g as Z,k as _}from"./separator-D7K8ijzx.js";import{C as m,a as c,b as u,d as h,e as F,T as $,f as J,g as L,h as M}from"./index-fzXkn5uR.js";import{F as H,e as K,S as W,f as X,C as E,a as B,B as I,d as O,Z as Q,b as ee}from"./lucide-vendor-OWB9XKaj.js";import{a as v}from"./ui-vendor-DnnLs78w.js";import"./react-vendor-Bzgz95E1.js";const se=[{value:"tl;dr",label:"TL;DR"},{value:"key-points",label:"Key Points"},{value:"teaser",label:"Teaser"},{value:"headline",label:"Headline"}],ae=[{title:"Tech Article",text:"Artificial Intelligence has transformed the technology landscape in unprecedented ways. Machine learning algorithms now power everything from recommendation systems to autonomous vehicles. Deep learning, a subset of machine learning, has enabled breakthrough achievements in image recognition, natural language processing, and game playing. Companies worldwide are investing billions in AI research and development. However, concerns about AI ethics, bias, and job displacement continue to spark important debates. Experts emphasize the need for responsible AI development that considers societal impacts. As we move forward, the challenge lies in harnessing AI's potential while addressing its risks and ensuring equitable benefits across society."},{title:"News Story",text:"In a groundbreaking development, researchers at a leading university have discovered a new method for carbon capture that could revolutionize climate change mitigation efforts. The innovative technology uses specially designed materials that can absorb carbon dioxide from the atmosphere at unprecedented rates. Early tests show the system is 50% more efficient than existing methods and significantly less expensive to operate. The research team, funded by international climate organizations, plans to scale up the technology for commercial deployment within the next two years. Environmental scientists are calling this discovery a potential game-changer in the fight against global warming. Government officials from several countries have already expressed interest in implementing the technology at scale."},{title:"Blog Post",text:"Welcome to my journey of learning web development! After years of thinking about it, I finally took the plunge and started coding. The first few weeks were challenging - understanding HTML, CSS, and JavaScript fundamentals felt overwhelming. But persistence paid off. I built my first website, a simple portfolio page, and the feeling of accomplishment was incredible. Then came React, which opened up a whole new world of possibilities. Now I'm exploring backend development with Node.js. The tech community has been incredibly supportive. Online tutorials, coding bootcamps, and developer forums have been invaluable resources. To anyone considering learning to code: start today, be patient with yourself, and don't be afraid to ask for help. The journey is difficult but absolutely worth it."},{title:"Scientific Paper Abstract",text:"This study investigates the effects of intermittent fasting on metabolic health markers in adult participants over a 12-week period. Sixty volunteers were randomly assigned to either an intermittent fasting group (16:8 protocol) or a control group maintaining regular eating patterns. Blood samples were collected at baseline, week 6, and week 12 to measure glucose levels, insulin sensitivity, lipid profiles, and inflammatory markers. Results showed significant improvements in insulin sensitivity (p<0.01) and reduction in inflammatory markers (p<0.05) in the intermittent fasting group compared to controls. Body weight decreased by an average of 3.2kg in the fasting group versus 0.5kg in controls. No adverse effects were reported. These findings suggest intermittent fasting may be an effective intervention for improving metabolic health, though longer-term studies are needed to confirm sustained benefits."}],re=s=>s==="tl;dr"?"tldr":s,te=({summaryType:s,setSummaryType:a,summaryFormat:t,setSummaryFormat:p,summaryLength:y,setSummaryLength:i,streamingMode:f,setStreamingMode:n,sharedContext:o,setSharedContext:l})=>e.jsxs(m,{children:[e.jsx(c,{children:e.jsx(u,{children:"Summarization Settings"})}),e.jsxs(h,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{htmlFor:"summary-type",children:"Summary Type"}),e.jsxs(C,{value:s,onValueChange:r=>a(r),children:[e.jsx(T,{id:"summary-type",children:e.jsx(z,{})}),e.jsx(k,{children:se.map(r=>e.jsx(j,{value:r.value,children:e.jsxs("span",{className:"flex items-center gap-2",children:[r.value==="tl;dr"&&e.jsx(H,{className:"h-4 w-4"}),r.value==="key-points"&&e.jsx(K,{className:"h-4 w-4"}),r.value==="teaser"&&e.jsx(W,{className:"h-4 w-4"}),r.value==="headline"&&e.jsx(X,{className:"h-4 w-4"}),e.jsx("span",{children:r.label})]})},r.value))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{htmlFor:"summary-format",children:"Output Format"}),e.jsxs(C,{value:t,onValueChange:r=>p(r),children:[e.jsx(T,{id:"summary-format",children:e.jsx(z,{})}),e.jsxs(k,{children:[e.jsx(j,{value:"plain-text",children:"Plain Text"}),e.jsx(j,{value:"markdown",children:"Markdown"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{htmlFor:"summary-length",children:"Summary Length"}),e.jsxs(C,{value:y,onValueChange:r=>i(r),children:[e.jsx(T,{id:"summary-length",children:e.jsx(z,{})}),e.jsxs(k,{children:[e.jsx(j,{value:"short",children:"Short"}),e.jsx(j,{value:"medium",children:"Medium"}),e.jsx(j,{value:"long",children:"Long"})]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(S,{htmlFor:"streaming-mode",children:"Streaming Mode"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"See summary appear in real-time as it's generated"})]}),e.jsx(V,{id:"streaming-mode",checked:f,onCheckedChange:n})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{htmlFor:"shared-context",children:"Shared Context (Optional)"}),e.jsx("textarea",{id:"shared-context",value:o,onChange:r=>l(r.target.value),placeholder:"Add context to guide the summarization (e.g., 'Focus on technical details' or 'Emphasize business impact')",className:"min-h-[60px] w-full border rounded-md p-2 text-sm"})]})]})]}),ie=({inputText:s,setInputText:a,isSummarizing:t,streamingMode:p,streamedSummary:y,summary:i,copyToClipboard:f,summarizeText:n,clearAll:o,isDownloading:l,downloadProgress:r,modelDownloaded:x})=>{const d=p&&t?y:i;return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs(m,{children:[e.jsx(c,{children:e.jsx(u,{children:"Input Text"})}),e.jsxs(h,{className:"space-y-4",children:[e.jsx(P,{value:s,onChange:w=>a(w.target.value),placeholder:"Enter text to summarize...",className:"min-h-[300px] font-mono text-sm"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm text-muted-foreground",children:[s.length," characters |"," ",s.split(/\s+/).filter(Boolean).length," words"]}),e.jsxs(b,{variant:"outline",size:"sm",onClick:()=>f(s),disabled:!s,children:[e.jsx(E,{className:"h-4 w-4 mr-2"}),"Copy"]})]})]})]}),e.jsxs(m,{children:[e.jsx(c,{children:e.jsx(u,{children:"Summary"})}),e.jsxs(h,{className:"space-y-4",children:[e.jsx(P,{value:d,readOnly:!0,placeholder:"Summary will appear here...",className:"min-h-[300px] font-mono text-sm"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm text-muted-foreground",children:[d.length," characters |"," ",d.split(/\s+/).filter(Boolean).length," words"]}),e.jsxs(b,{variant:"outline",size:"sm",onClick:()=>f(d),disabled:!d,children:[e.jsx(E,{className:"h-4 w-4 mr-2"}),"Copy"]})]})]})]})]}),e.jsx(m,{children:e.jsxs(h,{className:"pt-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx(b,{onClick:n,disabled:t||!s.trim(),className:"flex-1",children:t?e.jsxs(e.Fragment,{children:[e.jsx(B,{className:"h-4 w-4 mr-2 animate-spin"}),"Summarizing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(I,{className:"h-4 w-4 mr-2"}),"Summarize"]})}),e.jsx(b,{variant:"outline",onClick:o,children:"Clear All"})]}),l&&!x&&e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(B,{className:"h-4 w-4 animate-spin"}),e.jsx("span",{className:"font-medium",children:"Downloading summarization model..."})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 dark:bg-gray-700",children:e.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all",style:{width:`${r}%`}})}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[r.toFixed(0),"% complete"]})]})]})})]})},ne=({onLoadSample:s})=>e.jsxs(m,{children:[e.jsxs(c,{children:[e.jsx(u,{children:"Sample Texts"}),e.jsx(F,{children:"Click to load sample text for testing different summary types"})]}),e.jsx(h,{children:e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:ae.map((a,t)=>e.jsx(b,{variant:"outline",className:"justify-start text-left h-auto p-3 w-full",onClick:()=>s(a),children:e.jsxs("div",{className:"space-y-1 w-full",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(H,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:a.title})]}),e.jsx("p",{className:"text-xs text-muted-foreground truncate w-full",children:a.text})]})},t))})})]}),le=({summaryHistory:s})=>e.jsxs(m,{children:[e.jsxs(c,{children:[e.jsx(u,{children:"Summary History"}),e.jsx(F,{children:"Recent summaries (last 10)"})]}),e.jsx(h,{children:s.length===0?e.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No summaries yet. Start summarizing to see history."}):e.jsx(G,{className:"h-[500px] pr-4",children:e.jsx("div",{className:"space-y-4",children:s.map((a,t)=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx(R,{variant:"outline",children:a.type}),e.jsx("span",{className:"text-muted-foreground",children:new Date(a.timestamp).toLocaleTimeString()})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[e.jsxs("div",{className:"p-3 bg-gray-50 rounded",children:[e.jsx("p",{className:"text-xs font-semibold mb-1",children:"Original:"}),e.jsx("p",{className:"text-sm line-clamp-3",children:a.original})]}),e.jsxs("div",{className:"p-3 bg-purple-50 rounded",children:[e.jsx("p",{className:"text-xs font-semibold mb-1",children:"Summary:"}),e.jsx("p",{className:"text-sm",children:a.summary})]})]}),t<s.length-1&&e.jsx(U,{className:"my-2"})]},t))})})})]}),oe={isSupported:typeof window<"u"&&"Summarizer"in self,availability:"",inputText:"",summary:"",streamedSummary:"",isSummarizing:!1,isDownloading:!1,downloadProgress:0,streamingMode:!1,summaryType:"tl;dr",summaryFormat:"plain-text",summaryLength:"medium",sharedContext:"",summaryHistory:[]};function me(s,a){switch(a.type){case"setSupported":return{...s,isSupported:a.payload};case"setAvailability":return{...s,availability:a.payload};case"setInputText":return{...s,inputText:a.payload};case"setSummary":return{...s,summary:a.payload};case"setStreamedSummary":return{...s,streamedSummary:a.payload};case"setIsSummarizing":return{...s,isSummarizing:a.payload};case"setIsDownloading":return{...s,isDownloading:a.payload};case"setDownloadProgress":return{...s,downloadProgress:a.payload};case"setStreamingMode":return{...s,streamingMode:a.payload};case"setSummaryType":return{...s,summaryType:a.payload};case"setSummaryFormat":return{...s,summaryFormat:a.payload};case"setSummaryLength":return{...s,summaryLength:a.payload};case"setSharedContext":return{...s,sharedContext:a.payload};case"addHistory":return{...s,summaryHistory:[a.payload,...s.summaryHistory.slice(0,9)]};case"clearAll":return{...s,inputText:"",summary:"",streamedSummary:"",sharedContext:""};default:return s}}const A=Symbol("summarizerProgressCleanup");function de(){const[s,a]=g.useReducer(me,oe),t=g.useRef(null);g.useEffect(()=>{let n=!0;return(async()=>{if("Summarizer"in self)try{const l=await self.Summarizer.availability();n&&a({type:"setAvailability",payload:l})}catch(l){console.error("Failed to check summarizer availability:",l),n&&a({type:"setAvailability",payload:"error"})}})(),()=>{if(n=!1,t.current){t.current[A]?.();try{t.current.destroy()}catch{}}}},[]);const p=g.useRef(!1),y=g.useCallback(async()=>{let n=()=>{},o=!1;try{a({type:"setIsDownloading",payload:!0}),a({type:"setDownloadProgress",payload:0});const l={type:re(s.summaryType),format:s.summaryFormat,length:s.summaryLength,sharedContext:s.sharedContext||void 0,monitor(x){const d=w=>{const N=w,D=N.total>0?N.loaded/N.total*100:100;a({type:"setDownloadProgress",payload:D}),D>=100&&!o&&(o=!0,a({type:"setIsDownloading",payload:!1}),p.current||(p.current=!0,v.success("Summarizer ready!",{description:"Model downloaded successfully."})))};x.addEventListener("downloadprogress",d),n=()=>x.removeEventListener("downloadprogress",d)}};let r=null;if("Summarizer"in self)r=await self.Summarizer.create(l);else return a({type:"setIsDownloading",payload:!1}),null;return r[A]=n,o||a({type:"setIsDownloading",payload:!1}),r}catch(l){return a({type:"setIsDownloading",payload:!1}),console.error("Failed to create summarizer:",l),v.error("Error creating summarizer",{description:l instanceof Error?l.message:"Unknown error occurred"}),null}},[s.summaryType,s.summaryFormat,s.summaryLength,s.sharedContext]),i=g.useCallback(async()=>{if(!s.inputText.trim()){v.error("No text to summarize",{description:"Please enter some text to summarize"});return}a({type:"setIsSummarizing",payload:!0}),a({type:"setSummary",payload:""}),a({type:"setStreamedSummary",payload:""});try{if(t.current&&(t.current[A]?.(),t.current.destroy()),t.current=await y(),!t.current)throw new Error("Failed to create summarizer");const n=s.sharedContext?{context:s.sharedContext}:void 0;let o="";if(s.streamingMode){const r=t.current.summarizeStreaming(s.inputText,n).getReader();let x="";for(;;){const{done:d,value:w}=await r.read();if(d)break;x+=w,a({type:"setStreamedSummary",payload:x})}o=x,a({type:"setSummary",payload:x})}else{const l=await t.current.summarize(s.inputText,n);o=l,a({type:"setSummary",payload:l})}a({type:"addHistory",payload:{type:s.summaryType,original:s.inputText,summary:o,timestamp:new Date().toISOString()}}),v.success("Summary generated!",{description:`Created a ${s.summaryType} summary`})}catch(n){console.error("Summarization failed:",n),v.error("Summarization failed",{description:n instanceof Error?n.message:"Unknown error occurred"})}finally{a({type:"setIsSummarizing",payload:!1})}},[s.inputText,s.streamingMode,s.summaryType,s.sharedContext,y]),f=g.useCallback(n=>{navigator.clipboard.writeText(n),v.success("Copied!",{description:"Text copied to clipboard"})},[]);return{state:s,dispatch:a,summarizeText:i,copyToClipboard:f,modelDownloaded:p.current}}const ge=()=>{const{state:s,dispatch:a,summarizeText:t,copyToClipboard:p,modelDownloaded:y}=de();return s.isSupported?e.jsxs("div",{className:"container mx-auto p-4 max-w-7xl",children:[e.jsx(_,{}),e.jsx(m,{className:"mb-6",children:e.jsx(c,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(I,{className:"h-8 w-8"}),e.jsxs("div",{children:[e.jsx(u,{className:"text-2xl",children:"Chrome Summarizer API Demo"}),e.jsx(F,{children:"On-device text summarization powered by Chrome's built-in AI"})]})]}),e.jsxs(R,{variant:s.isSupported&&["readily","after-download","downloadable"].includes(s.availability)?"default":"secondary",children:["Summarizer API: ",s.availability||"checking..."]})]})})}),e.jsxs($,{defaultValue:"summarize",className:"space-y-4",children:[e.jsxs(J,{className:"grid w-full grid-cols-2",children:[e.jsx(L,{value:"summarize",children:"Summarize"}),e.jsx(L,{value:"history",children:"History"})]}),e.jsxs(M,{value:"summarize",className:"space-y-4",children:[e.jsx(te,{summaryType:s.summaryType,setSummaryType:i=>a({type:"setSummaryType",payload:i}),summaryFormat:s.summaryFormat,setSummaryFormat:i=>a({type:"setSummaryFormat",payload:i}),summaryLength:s.summaryLength,setSummaryLength:i=>a({type:"setSummaryLength",payload:i}),streamingMode:s.streamingMode,setStreamingMode:i=>a({type:"setStreamingMode",payload:i}),sharedContext:s.sharedContext,setSharedContext:i=>a({type:"setSharedContext",payload:i})}),e.jsx(ie,{inputText:s.inputText,setInputText:i=>a({type:"setInputText",payload:i}),isSummarizing:s.isSummarizing,streamingMode:s.streamingMode,streamedSummary:s.streamedSummary,summary:s.summary,copyToClipboard:p,summarizeText:t,clearAll:()=>a({type:"clearAll"}),isDownloading:s.isDownloading,downloadProgress:s.downloadProgress,modelDownloaded:y}),e.jsx(ne,{onLoadSample:i=>a({type:"setInputText",payload:i.text})})]}),e.jsx(M,{value:"history",className:"space-y-4",children:e.jsx(le,{summaryHistory:s.summaryHistory})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6",children:[e.jsxs(m,{children:[e.jsx(c,{children:e.jsxs(u,{className:"text-lg flex items-center gap-2",children:[e.jsx(I,{className:"h-5 w-5"}),"On-Device Processing"]})}),e.jsx(h,{children:e.jsx("p",{className:"text-sm text-muted-foreground",children:"All summarization happens locally in your browser. No data is sent to external servers."})})]}),e.jsxs(m,{children:[e.jsx(c,{children:e.jsxs(u,{className:"text-lg flex items-center gap-2",children:[e.jsx(Q,{className:"h-5 w-5"}),"Multiple Summary Types"]})}),e.jsx(h,{children:e.jsx("p",{className:"text-sm text-muted-foreground",children:"Generate TL;DR, key points, teasers, or headlines based on your needs."})})]}),e.jsxs(m,{children:[e.jsx(c,{children:e.jsxs(u,{className:"text-lg flex items-center gap-2",children:[e.jsx(ee,{className:"h-5 w-5"}),"Privacy First"]})}),e.jsx(h,{children:e.jsx("p",{className:"text-sm text-muted-foreground",children:"Your data never leaves your device. Complete privacy and security guaranteed."})})]})]})]}):e.jsxs(m,{className:"max-w-4xl mx-auto mt-10",children:[e.jsx(c,{children:e.jsxs(u,{className:"flex items-center gap-2",children:[e.jsx(O,{className:"h-6 w-6 text-red-500"}),"Chrome Summarizer API Not Supported"]})}),e.jsxs(h,{className:"space-y-4",children:[e.jsxs(Y,{variant:"destructive",children:[e.jsx(O,{className:"h-4 w-4"}),e.jsx(q,{children:"Browser Not Supported"}),e.jsx(Z,{children:"The Chrome Summarizer API requires Chrome 127+ with the Summarization API enabled."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"font-semibold",children:"To enable the Summarizer API:"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:[e.jsx("li",{children:"Open Chrome Dev or Chrome Canary (version 127+)"}),e.jsxs("li",{children:["Navigate to"," ",e.jsx("code",{className:"bg-gray-100 px-1 py-0.5 rounded",children:"chrome://flags"})]}),e.jsx("li",{children:'Search for "Summarization API for Gemini Nano"'}),e.jsx("li",{children:"Enable the flag and restart Chrome"}),e.jsxs("li",{children:["Visit"," ",e.jsx("code",{className:"bg-gray-100 px-1 py-0.5 rounded",children:"chrome://components"})]}),e.jsx("li",{children:'Find "Optimization Guide On Device Model" and click "Check for update"'})]})]})]})]})};export{ge as SummarizerFeatureComponent,ge as default};
